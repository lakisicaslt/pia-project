<div class="container mt-4">
  <a routerLink="/owner" class="btn btn-secondary mb-3">Meni</a>
  <h2>Spisak firmi:</h2>

  <div class="form-group">
    <label for="ime">Ime firme:</label>
    <input id="ime" [(ngModel)]="ime" name="ime" class="form-control">
  </div>

  <div class="form-group">
    <label for="adresa">Adresa firme:</label>
    <input id="adresa" [(ngModel)]="adresa" name="adresa" class="form-control">
  </div>

  <button (click)="pretraziFirme()" class="btn btn-primary">Pretrazi</button>

  <br><br>

  <table class="table table-striped table-responsive">
    <thead>
      <tr>
        <th (click)="sortFirme('ime')">Ime firme</th>
        <th (click)="sortFirme('adresa')">Adresa</th>
        <th>Zaposleni</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let k of firme">
        <td (click)="detaljiFirme(k.ime)">{{k.ime}}</td>
        <td>{{k.adresa}}</td>
        <td>
          <ul *ngIf="k?.zaposleni?.length >= 2; else noEmployees">
            <li *ngFor="let zaposleni of k?.zaposleni">{{zaposleni.ime}} {{zaposleni.prezime}}</li>
          </ul>
          <ng-template #noEmployees>Nema dovoljno zaposlenih</ng-template>
        </td>
      </tr>
      <tr>
        <td colspan="2">
          <button class="btn btn-primary" (click)="odjavi()">Odjavi se</button>
        </td>
      </tr>
    </tbody>
  </table>

  <h2>Raspored baste</h2>
  <div class="form-group">
    <input type="file" (change)="loadGardenLayout($event)" class="form-control">
  </div>

  <canvas #canvasElement width="600" height="400" style="border:1px solid #000000;" class="mt-3"></canvas>
</div>
